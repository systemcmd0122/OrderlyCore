<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overseer - ダッシュボード</title>
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
</head>
<body>
    <div id="loader" class="loader-container">
        <div class="loader-ring"></div>
        <p>サーバー情報を読み込み中...</p>
    </div>

    <div class="dashboard-wrapper" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="/" class="logo">[O] Overseer</a>
            </div>
            
            <div class="server-info">
                <img id="server-icon" src="" alt="Server Icon" class="server-icon">
                <h2 id="server-name">サーバー名</h2>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-category">管理</div>
                <a href="#dashboard" class="nav-item active" data-page="dashboard"><i data-feather="grid"></i><span>ダッシュボード</span></a>
                <a href="#members" class="nav-item" data-page="members"><i data-feather="users"></i><span>メンバー管理</span></a>
                <a href="#auditLog" class="nav-item" data-page="auditLog"><i data-feather="archive"></i><span>監査ログ</span></a>
                <a href="#analytics" class="nav-item" data-page="analytics"><i data-feather="bar-chart-2"></i><span>アナリティクス</span></a>

                <div class="nav-category">機能設定</div>
                <a href="#welcome" class="nav-item" data-page="welcome"><i data-feather="user-plus"></i><span>参加・退出設定</span></a>
                <a href="#welcome-message" class="nav-item" data-page="welcome-message"><i data-feather="mail"></i><span>ウェルカムメッセージ</span></a>
                <a href="#roleboard" class="nav-item" data-page="roleboard"><i data-feather="trello"></i><span>ロールボード</span></a>
                <a href="#automod" class="nav-item" data-page="automod"><i data-feather="shield"></i><span>オートモッド</span></a>
                <a href="#leveling" class="nav-item" data-page="leveling"><i data-feather="trending-up"></i><span>レベリング</span></a>
                <a href="#ai" class="nav-item" data-page="ai"><i data-feather="cpu"></i><span>AI設定</span></a>

                <div class="nav-category">ログ設定</div>
                <a href="#logging" class="nav-item" data-page="logging"><i data-feather="edit-3"></i><span>サーバーログ設定</span></a>
                <a href="#vc-log" class="nav-item" data-page="vc-log"><i data-feather="mic"></i><span>VCログ設定</span></a>
                
                <div class="nav-category">その他</div>
                <a href="#announcements" class="nav-item" data-page="announcements"><i data-feather="bell"></i><span>お知らせ設定</span></a>
                <a href="#autorole" class="nav-item" data-page="autorole"><i data-feather="user-check"></i><span>Bot 自動ロール</span></a>
            </nav>
            
            <div class="sidebar-footer">
                <button id="logout-btn" class="btn btn-secondary">
                    <i data-feather="log-out"></i>
                    <span>ログアウト</span>
                </button>
            </div>
        </aside>
        
        <main class="main-content">
            <header class="main-header">
                <button id="menu-toggle" class="menu-toggle-btn">
                    <i data-feather="menu"></i>
                </button>
                <h1 id="page-title">ダッシュボード</h1>
            </header>
            
            <div id="page-content-wrapper">
                <div id="page-content" class="page-content">
                    </div>
            </div>
        </main>
    </div>

    <div id="modal-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/js/tom-select.complete.min.js"></script>
    <script src="/client.js"></script>
    
    <script>
        // Initial call to render icons
        feather.replace();

        // Error handling
        window.addEventListener('error', (e) => {
            console.error('Global error:', e.error);
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            console.error('Unhandled promise rejection:', e.reason);
        });
    </script>
</body>
</html>